{% extends "base.html" %}
{% load static %}
{% load courses_tags %}

{% block css %}
    <link rel="stylesheet" href="{% static "deps/css/courses.css" %}" />
    <link rel="stylesheet" href="{% static "deps/css/header-dark.css" %}" />
{% endblock css %}
{% block breadcrumb_current %}Programming Courses{% endblock %}
{% block content %}
    <main>
        <section class="courses-header">
            <div class="container__container">
                <div class="courses-header__text">
                    <h1>Programming Courses</h1>
                    <p>
                        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus
                        illum quas tempora sed. Velit iusto corporis modi perferendis ipsum
                        voluptatum, saepe, error autem, reiciendis commodi laboriosam ratione
                        optio vel incidunt?
                    </p>
                </div>
            </div>
        </section>
        {% comment %} NOT FINISHED {% endcomment %}
        <section class="popular-courses">
            <div class="popular-courses__container">
                <h2 class="popular-courses__title courses-title__container">Most Popular Development Courses</h2>
                <div class="swiper popular-courses__slider">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div class="card-standart">
                                <div class="card-img">
                                    <img src="{% static "deps/img/placeholder-for-cards.jpg" %}" alt="Course Image" />
                                </div>
                                <div class="card-body">
                                    <h3 class="course-title">Course Title</h3>
                                    <div class="course-meta">
                                        <span class="mentor">Tanah Air Team</span>
                                        <span class="rating">⭐⭐⭐⭐⭐</span>
                                        <span class="price">$199.99</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="card-standart">
                                <div class="card-img">
                                    <img src="{% static "deps/img/placeholder-for-cards2.jpg" %}" alt="Course Image" />
                                </div>
                                <div class="card-body">
                                    <h3 class="course-title">Course Title</h3>
                                    <div class="course-meta">
                                        <span class="mentor">Tanah Air Team</span>
                                        <span class="rating">⭐⭐⭐⭐⭐</span>
                                        <span class="price">$826</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="card-standart">
                                <div class="card-img">
                                    <img src="{% static "deps/img/placeholder-for-cards2.jpg" %}" alt="Course Image" />
                                </div>
                                <div class="card-body">
                                    <h3 class="course-title">Course Title</h3>
                                    <div class="course-meta">
                                        <span class="mentor">Tanah Air Team</span>
                                        <span class="rating">⭐⭐⭐⭐⭐</span>
                                        <span class="price">$826</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="card-standart">
                                <div class="card-img">
                                    <img src="{% static "deps/img/placeholder-for-cards.jpg" %}" alt="Course Image" />
                                </div>
                                <div class="card-body">
                                    <h3 class="course-title">Course Title</h3>
                                    <div class="course-meta">
                                        <span class="mentor">Tanah Air Team</span>
                                        <span class="rating">⭐⭐⭐⭐⭐</span>
                                        <span class="price">$735</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="card-standart">
                                <div class="card-img">
                                    <img src="{% static "deps/img/placeholder-for-cards2.jpg" %}" alt="Course Image" />
                                </div>
                                <div class="card-body">
                                    <h3 class="course-title">Course Title</h3>
                                    <div class="course-meta">
                                        <span class="mentor">Tanah Air Team</span>
                                        <span class="rating">⭐⭐⭐⭐⭐</span>
                                        <span class="price">$199.99</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="s-button-prev">
                        <svg width="51"
                             height="51"
                             viewBox="0 0 51 51"
                             fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <circle cx="25.5" cy="25.5" r="25.5" fill="#F72585" />
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M31.5858 26.0001H17V24.0001H31.5858L25.2929 17.7072L26.7071 16.293L35.4142 25.0001L26.7071 33.7072L25.2929 32.293L31.5858 26.0001Z" fill="white" />
                        </svg>
                    </div>
                    <div class="s-button-next">
                        <svg width="51"
                             height="51"
                             viewBox="0 0 51 51"
                             fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <circle cx="25.5" cy="25.5" r="25.5" fill="#F72585" />
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M31.5858 26.0001H17V24.0001H31.5858L25.2929 17.7072L26.7071 16.293L35.4142 25.0001L26.7071 33.7072L25.2929 32.293L31.5858 26.0001Z" fill="white" />
                        </svg>
                    </div>
                </div>
            </div>
        </section>
        <section class="programming-topics">
            <div class="programming-topics__container">
                <h2>Programming Topics</h2>
                <div class="topics-cards">
                    <div class="topic-card">
                        <a href="#" class="topic-link">
                            <div class="topic-image"
                                 style="background-image: url('path-to-image.jpg')">
                                <span class="topic-title">Python</span>
                            </div>
                        </a>
                    </div>
                    <div class="topic-card">
                        <a href="#" class="topic-link">
                            <div class="topic-image"
                                 style="background-image: url('path-to-js-image.jpg')">
                                <span class="topic-title">JavaScript</span>
                            </div>
                        </a>
                    </div>
                    <div class="topic-card">
                        <a href="#" class="topic-link">
                            <div class="topic-image"
                                 style="background-image: url('path-to-sql-image.jpg')">
                                <span class="topic-title">SQL</span>
                            </div>
                        </a>
                    </div>
                    <div class="topic-card">
                        <a href="#" class="topic-link">
                            <div class="topic-image"
                                 style="background-image: url('path-to-other-topic-image.jpg')">
                                <span class="topic-title">Other</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </section>
        <section class="courses-search">
            <div class="courses-search__container">
                <div class="search-header">
                    <h2 class="search-title">All Courses</h2>
                    <div class="search-controls">
                        <button class="filter-btn light-pink-btn">
                            Filter
                            <i class="icon-filter">
                                <img src="{% static "deps/img_vector/filter-icon.svg" %}" alt="" />
                            </i>
                        </button>
                        <button class="sort-btn pink-btn">
                            Most Popular
                            <i class="icon-sort">
                                <img src="{% static "deps/img_vector/popular-icon.svg" %}" alt="" />
                            </i>
                        </button>
                    </div>
                </div>
                <div class="search-content">
										<form method="get" action="{% if request.GET.q %}{% url "catalog:search" %}{% else %}{% url 'catalog:index' slug_url %}{% endif %}">
											{% if request.GET.q %}
                                            <input type="hidden" name="q" value="{{ request.GET.q }}">
                                            {% endif %}
											<aside class="filters">
													<div class="filter-section">
															<div class="filter-section__header">
																	<span class="filter-section__title">Ratings</span>
																	<span class="filter-section__icon">
																			<img src="{% static "deps/img_vector/filter-button-icon.svg" %}" alt="" />
																	</span>
															</div>
															<div class="filter-section__content">
																	<label class="filter-option">
																			<input type="checkbox" />
																			5 Stars
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			4 Stars
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			3 Stars
																	</label>
															</div>
													</div>
													<div class="filter-section">
															<div class="filter-section__header">
																	<span class="filter-section__title">Duration</span>
																	<span class="filter-section__icon">
																			<img src="{% static "deps/img_vector/filter-button-icon.svg" %}" alt="" />
																	</span>
															</div>
															<div class="filter-section__content">
																	<label class="filter-option">
																			<input type="checkbox" />
																			1-3 Hours
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			3-6 Hours
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			6+ Hours
																	</label>
															</div>
													</div>
													<div class="filter-section">
															<div class="filter-section__header">
																	<span class="filter-section__title">Categories</span>
																	<span class="filter-section__icon">
																			<img src="{% static "deps/img_vector/filter-button-icon.svg" %}" alt="" />
																	</span>
															</div>
															<div class="filter-section__content">
																	<label class="filter-option">
																			<input type="checkbox" />
																			English
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			Bahasa Indonesia
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			Programming
																	</label>
															</div>
													</div>
													<div class="filter-section">
															<div class="filter-section__header">
																	<span class="filter-section__title">Level</span>
																	<span class="filter-section__icon">
																			<img src="{% static "deps/img_vector/filter-button-icon.svg" %}" alt="" />
																	</span>
															</div>
															<div class="filter-section__content">
																	<label class="filter-option">
																			<input type="checkbox" />
																			Beginner
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			Intermediate
																	</label>
																	<label class="filter-option">
																			<input type="checkbox" />
																			Advanced
																	</label>
															</div>
													</div>
											</aside>
										</form>
                    <div class="courses-results">
                        <div class="course-card card">
                            {% for course in courses %}
                                <div class="card-standart">
                                    <div class="card-img">
                                        {% if course.image %}
                                            <img src="{{ course.image.url }}" alt="{{ course.name }}" />
                                        {% else %}
                                            <img src="{% static "deps\img\image_not_found.png" %}" alt="">
                                        {% endif %}
                                    </div>
                                    <div class="card-body">
                                        <a href="{% url 'catalog:course' course.slug %}">
                                            <span class="course-title">
                                                {% autoescape off %}
                                                {% if course.headline %}{{course.headline|truncatechars:20 }}{% else %}{{ course.name|truncatechars:20  }}{% endif %}
                                                {% endautoescape %}
                                            </span>
                                        </a>
                                        <div class="course-meta">
                                            <span class="mentor">{{ course.mentor|truncatechars:30  }}</span>
                                            <span class="rating">
                                                {% if course.rating %}
                                                    {% for star in course.rating %}
                                                        <img src="{% static star %}" alt="★" class="rating-star">
                                                    {% endfor %}
                                                {% else %}
                                                    <span>No rating</span>
                                                {% endif %}
                                            </span>
                                            <span class="price">
                                                {% if course.discount %}
                                                    <span class="original-price">{{ course.formatted_price }}</span>
                                                    <span class="discounted-price">{{ course.formatted_sell_price }}</span>
                                                {% else %}
                                                    <span class="regular-price">{{ course.formatted_price }}</span>
                                                {% endif %}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
												{% comment %} NOT FINISHED {% endcomment %}
                        <nav class="pagination-wrapper" aria-label="Pagination">
                            <ul class="pagination">
                                <li class="pagination-arrow {% if not courses.has_previous %}disabled{% endif %}">
                                    <a href="{% if courses.has_previous %}?{% change_params page=previous_page_number %}{% else %}#{% endif %}"
                                       aria-label="Previous"
                                       {% if not courses.has_previous %}aria-disabled="true"{% endif %}>
                                        <svg width="16"
                                             height="16"
                                             viewBox="0 0 16 16"
                                             fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.7071 13.2929L10.2929 14.7071L3.58582 8.00001L10.2929 1.29291L11.7071 2.70712L6.41424 8.00001L11.7071 13.2929Z" />
                                        </svg>
                                    </a>
                                </li>
                                {% for page in courses.paginator.page_range %}
                                    {% if page >= courses.number|add:-2 and page <= courses.number|add:2 %}
                                        <li {% if page == courses.number %}class="active"{% endif %}>
                                            <a href="?{% change_params page=page %}"
                                               {% if page == courses.number %}aria-current="page"{% endif %}>{{ page }}</a>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                                <li class="pagination-arrow {% if not courses.has_next %}disabled{% endif %}">
                                    <a href="{% if courses.has_next %}?{% change_params page=next_page_number %}{% else %}#{% endif %}"
                                       aria-label="Next"
                                       {% if not courses.has_next %}aria-disabled="true"{% endif %}>
                                        <svg width="16"
                                             height="16"
                                             viewBox="0 0 16 16"
                                             fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.58574 8.00001L4.29285 2.70712L5.70706 1.29291L12.4142 8.00001L5.70706 14.7071L4.29285 13.2929L9.58574 8.00001Z" />
                                        </svg>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </section>
    </main>
{% endblock content %}
<div class="card-standart">
    <div class="card-img">
        <img src="{% static "deps/img/placeholder.jpg" %}" alt="Course Image" />
    </div>
    <div class="card-body">
        <span class="course-title">Course Title</span>
        <div class="course-meta">
            <span class="mentor">Tanah Air Team</span>
            <span class="rating">⭐⭐⭐⭐⭐</span>
            <span class="price">$199.99</span>
        </div>
    </div>
</div>
